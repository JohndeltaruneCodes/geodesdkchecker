<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Geode SDK Checker</title>

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1: linear-gradient(135deg,#0f172a 0%, #0b1220 50%, #071226 100%);
      --card: rgba(255,255,255,0.04);
      --muted: rgba(255,255,255,0.7);
      --accent: #7c3aed; /* purple */
      --success: #10b981;
      --danger: #ef4444;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
      color-scheme: dark;
    }

    html,body{
      height:100%;
      margin:0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--bg1);
      color: #e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:48px 20px;
      box-sizing:border-box;
    }

    .container{
      max-width:920px;
      width:100%;
      display:grid;
      grid-template-columns:1fr 360px;
      gap:28px;
      align-items:start;
    }

    header.site{
      grid-column:1 / -1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:20px;
      margin-bottom:4px;
    }

    .brand{
      display:flex;
      gap:14px;
      align-items:center;
    }
    .logo{
      width:56px;
      height:56px;
      border-radius:12px;
      background: linear-gradient(180deg,var(--accent), #4f46e5);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6), inset 0 -6px 18px rgba(255,255,255,0.03);
      flex-shrink:0;
    }
    .logo svg { filter: drop-shadow(0 2px 8px rgba(0,0,0,0.6)); }
    .title{
      line-height:1;
    }
    .title h1{
      font-size:20px;
      margin:0;
      letter-spacing:-0.2px;
      font-weight:700;
    }
    .title p{
      margin:0;
      margin-top:4px;
      font-size:13px;
      color:var(--muted);
    }

    .main{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;
      padding:28px;
      box-shadow: 0 6px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }

    .headline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:18px;
    }
    .headline h2{
      margin:0;
      font-size:16px;
    }
    .headline .muted{
      color:var(--muted);
      font-size:13px;
    }

    .status-card{
      display:flex;
      gap:18px;
      align-items:center;
    }

    .badge{
      width:96px;
      height:96px;
      border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.025), rgba(255,255,255,0.01));
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:12px;
      box-shadow: inset 0 1px rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.02);
    }
    .badge .dot{
      width:18px;
      height:18px;
      border-radius:50%;
      margin-bottom:8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
      transform-origin:center;
    }
    .badge .label{
      font-weight:600;
      font-size:14px;
    }
    .badge .sub{
      color:var(--muted);
      font-size:12px;
      margin-top:4px;
    }

    .info{
      flex:1;
    }
    .info p{
      margin:0 0 10px 0;
      color:var(--muted);
      font-size:14px;
    }
    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      margin-top:8px;
    }

    .btn{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);
      color: #eaf6ff;
      padding:10px 14px;
      border-radius:10px;
      font-weight:600;
      cursor:pointer;
      font-size:13px;
      display:inline-flex;
      gap:10px;
      align-items:center;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.secondary{
      background:transparent;
      color:var(--muted);
      border:1px dashed rgba(255,255,255,0.04);
    }

    .meta{
      margin-top:14px;
      color:var(--muted);
      font-size:13px;
    }

    .aside{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;
      padding:20px;
      box-shadow: 0 6px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
      height:fit-content;
    }
    .aside h3{
      margin:0 0 12px 0;
      font-size:15px;
    }
    .endpoint{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      background:var(--glass);
      padding:10px;
      border-radius:8px;
      display:block;
      color:#e6eef8;
      font-size:13px;
      word-break:break-all;
    }

    footer.site{
      grid-column:1 / -1;
      margin-top:18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      color:var(--muted);
      font-size:13px;
    }

    .status-green{ background: linear-gradient(180deg, rgba(16,185,129,0.16), rgba(16,185,129,0.06)); color:var(--success); }
    .status-red{ background: linear-gradient(180deg, rgba(239,68,68,0.12), rgba(239,68,68,0.04)); color:var(--danger); }
    .status-gray{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color:var(--muted); }

    .pulse {
      animation: pulse 1.6s infinite;
      box-shadow: 0 0 0 0 rgba(0,0,0,0);
    }
    @keyframes pulse {
      0% { transform: scale(1); opacity:1; box-shadow: 0 0 0 0 rgba(124,58,237,0.16); }
      70% { transform: scale(1.08); opacity:0.9; box-shadow: 0 0 22px 6px rgba(124,58,237,0.06); }
      100% { transform: scale(1); opacity:1; box-shadow: 0 0 0 0 rgba(124,58,237,0); }
    }

    /* Responsive */
    @media (max-width:860px){
      .container{ grid-template-columns: 1fr; }
      .brand .title h1{ font-size:18px; }
      .badge{ width:86px; height:86px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="container" role="main">
      <header class="site" aria-label="site header">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <!-- simple emblem SVG -->
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <rect x="2" y="2" width="20" height="20" rx="4" fill="white" fill-opacity="0.06"/>
              <path d="M7 12h10M12 7v10" stroke="white" stroke-opacity="0.95" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="title">
            <h1>Geode SDK Checker</h1>
            <p>Quickly check api.geode-sdk.org status</p>
          </div>
        </div>

        <div style="text-align:right;">
          <div style="font-size:12px;color:var(--muted)">by <a href="https://github.com/JohndeltaruneCodes" style="color:inherit;text-decoration:underline;">JohndeltaruneCodes</a></div>
        </div>
      </header>

      <section class="main" aria-labelledby="status-heading">
        <div class="headline">
          <h2 id="status-heading">Service status</h2>
          <div class="muted">Checks api.geode-sdk.org and reports reachability</div>
        </div>

        <div class="status-card" aria-live="polite">
          <div class="badge" id="statusBadge">
            <div class="dot status-gray" id="statusDot" style="width:18px;height:18px;border-radius:50%;"></div>
            <div class="label" id="statusText">checking...</div>
            <div class="sub" id="statusSub">—</div>
          </div>

          <div class="info">
            <p>Endpoint: <span class="endpoint" id="endpoint">https://api.geode-sdk.org</span></p>

            <div class="actions">
              <button class="btn" id="refreshBtn" title="Refresh status">
                ↻ Refresh status
              </button>
              <button class="btn secondary" id="openBtn" title="Open API in new tab">Open API</button>
            </div>

            <div class="meta" id="metaText">Last checked: <span id="lastChecked">—</span></div>
          </div>
        </div>

        <div style="margin-top:18px;color:var(--muted);font-size:13px;">
          Note: This page pings the server to check reachability. Some servers block cross-origin requests which may cause false negatives. A green status means the browser managed to reach the host.
        </div>
      </section>

      <aside class="aside" aria-labelledby="about-heading">
        <h3 id="about-heading">About</h3>
        <p style="margin:0 0 12px 0;color:var(--muted);font-size:14px;">
          This small checker gives a quick indication whether the Geode SDK API host is reachable from the browser. It's useful for quick troubleshooting and monitoring.
        </p>

        <div style="display:flex;gap:10px;flex-direction:column;">
          <div><strong>Method</strong><div style="color:var(--muted);font-size:13px">Fetch request (no-cors) — resolves indicates reachable</div></div>
        </div>
      </aside>

      <footer class="site" aria-label="footer">
        <div>Made with ♥ — <a href="https://github.com/JohndeltaruneCodes/geodesdkchecker" style="color:inherit;text-decoration:underline">geodesdkchecker</a></div>
        <div id="versionText" style="color:var(--muted);font-size:13px">v1.1</div>
      </footer>
    </div>
  </div>

  <script>
    (function(){
      const endpoint = 'https://api.geode-sdk.org';
      const statusTextEl = document.getElementById('statusText');
      const statusDot = document.getElementById('statusDot');
      const statusSub = document.getElementById('statusSub');
      const lastCheckedEl = document.getElementById('lastChecked');
      const refreshBtn = document.getElementById('refreshBtn');
      const openBtn = document.getElementById('openBtn');
      const statusBadge = document.getElementById('statusBadge');

      function setState(state, reason){
        // state: 'online' | 'offline' | 'checking'
        statusTextEl.textContent = (state === 'checking') ? 'checking...' : (state === 'online' ? 'online' : 'offline');
        statusSub.textContent = reason || '';
        lastCheckedEl.textContent = new Date().toLocaleString();
        if(state === 'online'){
          statusDot.className = 'dot status-green pulse';
          statusTextEl.style.color = 'var(--success)';
        } else if(state === 'offline'){
          statusDot.className = 'dot status-red';
          statusTextEl.style.color = 'var(--danger)';
        } else {
          statusDot.className = 'dot status-gray';
          statusTextEl.style.color = '';
        }
      }

      async function checkStatus(){
        setState('checking', 'Attempting to reach host…');
        try {
          // Best-effort ping: try an OPTIONS request first with CORS, but many servers won't allow it.
          // Fall back to no-cors fetch: success of the promise indicates network reachability in many browsers.
          let ok = false;
          try {
            const r = await fetch(endpoint, { method: 'GET', cache: 'no-cache', mode: 'cors' });
            // if CORS allowed, we can inspect r.ok
            ok = r && r.ok;
            if(ok){
              setState('online', `HTTP ${r.status}`);
              return;
            }
          } catch (e) {
            // CORS or network error — fall back
          }

          // fallback: attempt no-cors fetch which resolves on reachability in many cases.
          await fetch(endpoint, { method: 'GET', cache: 'no-cache', mode: 'no-cors' });
          // If the fetch resolves, we assume reachable
          setState('online', 'reachable (no-cors)');
        } catch (err) {
          setState('offline', String(err.message || err));
        }
      }

      // wire buttons
      refreshBtn.addEventListener('click', checkStatus);
      openBtn.addEventListener('click', () => { window.open(endpoint, '_blank', 'noopener'); });

      // initial run
      checkStatus();

      // convenient auto-refresh every 5 minutes
      setInterval(checkStatus, 5 * 60 * 1000);
    })();
  </script>
</body>
</html>
